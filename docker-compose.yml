services:
  blog-pusher:
    build:
      context: .
      dockerfile: Dockerfile
    image: local/blog-pusher:latest
    restart: "no"
    environment:
      - FEED_LIST=feeds/blogs.json
      - WINDOW_HOURS=24
      - MAX_POST_NUM=-1
      - SEND_EMPTY=false
      - TARGET_LANGUAGE=Chinese (Traditional)
      - EMAIL_SUBJECT_PREFIX=Blog Pusher Digest
      - AZURE_OPENAI_KEY=your-azure-key
      - AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
      - AZURE_OPENAI_DEPLOYMENT=gpt-4o-mini
      - AZURE_OPENAI_API_VERSION=2024-02-01
      - SMTP_SERVER=smtp.gmail.com
      - SMTP_PORT=587
      - SENDER=your_email@example.com
      - SENDER_PASSWORD=your_app_password
      - RECEIVER=receiver_email@example.com
    command: uv run main.py
